<!DOCTYPE html>
<html ng-app="hammertime">
  <head>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <script src="app.js"></script>
    <script src="teacher.js"></script>
  </head>

  <body ng-controller="TeacherController" >
    <h1><img src="resources/wordlogo3x.png"/></h1>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="col-md-6">
          <!--Sidebar content-->
          <ul id="questionlist">
            <li ng-repeat="(key, question) in questions">

              <button class="btn questionbtn" ng-click="set_current_question(key)" ng-class="{'btn-primary':question.open, 'btn-info':!question.open, 'btn-success':answerComplete}">{{ question.question }}</button>
 
              <div ng-if="current_question !== null && key === current_question || question.open">
              Question: <input type="text" name="question" ng-model="question.question" size="15" maxlength="50" /></br>
              Answer: <input type="text" name="answer" ng-model="question.correct_answer" size="15" maxlength="50" />
                <div ng-if="!question.open && get_openquestion() === null">
                  <button class="btn btn-success" ng-click="open_question(key)" class="btn btn-primary">
                    Open
                  </button>
                </div>
                <div ng-if="question.open">
                  <button class="btn btn-danger" ng-click="close_question(key)" class="btn btn-primary">
                    close
                  </button>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <div ng-if="get_viewquestion()">
              <h3>{{ questions[get_viewquestion()].question }}</h3>
              <label> Answered </label></br>
              <div class="progress">
                 <div class="progress-bar progress-bar-striped active" role="progressbar"
                 aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{get_AllAnswers()}}%" ng-class="{'progress-bar-danger':get_AllAnswers()<25,'progress-bar-warning':get_AllAnswers()<100, 'progress-bar-success':get_AllAnswers()==100}">{{ get_AllAnswers() }}% 
                 </div>
              </div>
              <label> Percentage Correct </label></br>
              <div class="progress">
                  <div class="progress-bar progress-bar-striped active" role="progressbar"
                  aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{get_CorrectAnswers()}}%" ng-class="{'progress-bar-danger':get_CorrectAnswers()<50, 'progress-bar-success':get_CorrectAnswers()>50}">{{ get_CorrectAnswers() }}%
                  </div>
              </div>
              <ul>
                <li ng-repeat="(key, value) in students" ng-class="{'responded':get_answer(key)!= 'No answer','wrongAnswer':(questions[get_viewquestion()].correct_answer != get_answer(key)) && (get_answer(key) != 'No answer')}">
                  {{ value }} - {{ get_answer(key) }}
                  
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

  </div>
  </body>
</html>
